- name: Setup SSH and Add Host Key
  env:
    SERVER_IP: ${{ secrets.SERVER_IP }}
    SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}
  run: |
    mkdir -p ~/.ssh
    echo "$SSH_PRIVATE_KEY" > ~/.ssh/id_rsa
    chmod 600 ~/.ssh/id_rsa
    ssh-keyscan -H $SERVER_IP >> ~/.ssh/known_hosts || echo "SSH Keyscan failed!"
    cat ~/.ssh/known_hosts  # Debug known_hosts
